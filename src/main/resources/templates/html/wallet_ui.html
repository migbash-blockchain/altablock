<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" sizes="16x16" th:href="@{/images/logo_vector.png}">
    <title>BlockMatrix Chain</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link rel="stylesheet" th:href="@{styles/main.css}">
  </head>
  <body>
    <section>
      <div class="container" id="status_bar" style="display: flex; justify-content: center; padding: 35px 0px;">
        <div class="info">
          <div class="mr-2">Test Net</div><span class="dot"></span>
        </div>
        <div class="info">
          <svg width="22" height="21" viewbox="0 0 22 21" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M20.3315 11.1459L16.0512 9.17561V7.39679C15.5928 7.16331 15.1756 6.85664 14.8159 6.48885V9.16944L10.8444 11.0224V6.27267C10.9188 6.26874 10.9919 6.25202 11.0606 6.22326L13.8277 4.95091C13.6737 4.55437 13.574 4.13885 13.5312 3.71561L10.8012 4.95091L7.6512 3.53032L10.8012 2.07885L13.5065 3.31414V3.26473C13.5066 2.84736 13.5626 2.43188 13.6733 2.02944L11.0483 0.843555C10.967 0.805928 10.8784 0.786438 10.7888 0.786438C10.6993 0.786438 10.6107 0.805928 10.5294 0.843555L5.89708 2.97444C5.78987 3.02405 5.69914 3.10338 5.63564 3.203C5.57215 3.30262 5.53856 3.41836 5.53885 3.5365V9.18179L1.27708 11.1459C1.16987 11.1955 1.07914 11.2748 1.01564 11.3745C0.952149 11.4741 0.918556 11.5898 0.918848 11.708V17.7486C0.918556 17.8667 0.952149 17.9824 1.01564 18.0821C1.07914 18.1817 1.16987 18.261 1.27708 18.3106L5.90944 20.4415C5.99074 20.4791 6.07926 20.4986 6.16885 20.4986C6.25844 20.4986 6.34696 20.4791 6.42826 20.4415L10.8012 18.428L15.1741 20.4415C15.2554 20.4791 15.344 20.4986 15.4336 20.4986C15.5231 20.4986 15.6117 20.4791 15.693 20.4415L20.3253 18.3106C20.4325 18.261 20.5233 18.1817 20.5868 18.0821C20.6503 17.9824 20.6838 17.8667 20.6836 17.7486V11.708C20.6844 11.5905 20.6517 11.4752 20.5894 11.3757C20.527 11.2761 20.4376 11.1964 20.3315 11.1459ZM3.03738 11.708L6.19355 10.2503L9.34973 11.7018L6.16885 13.1471L3.03738 11.708ZM6.16885 19.2V14.4503C6.25482 14.4439 6.33872 14.4208 6.41591 14.3824L10.1712 12.653V17.3471L6.16885 19.2ZM12.2836 11.708L15.4397 10.2565L18.5959 11.708L15.4397 13.1471L12.2836 11.708ZM15.4583 19.2V14.4503C15.5364 14.4438 15.6122 14.4206 15.6806 14.3824L19.4359 12.653V17.3471L15.4583 19.2Z" fill="white"></path>
            <path d="M18.139 6.35292C19.8445 6.35292 21.2272 4.97027 21.2272 3.26469C21.2272 1.5591 19.8445 0.176453 18.139 0.176453C16.4334 0.176453 15.0507 1.5591 15.0507 3.26469C15.0507 4.97027 16.4334 6.35292 18.139 6.35292Z" fill="#00A3FF"></path>
          </svg><span class="ml-2">BlockMatrix Status |</span><span th:text="${bm_verify}"> </span>
        </div>
      </div>
      <div class="container-fluid pb-3 pt-0 pl-5">
        <div class="container-fluid" style="display: flex; align-items: center;">
          <svg width="29" height="26" viewbox="0 0 29 26" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M26.1227 5.4375H4.53125C4.03055 5.4375 3.625 5.03195 3.625 4.53125C3.625 4.03055 4.03055 3.625 4.53125 3.625H26.2812C26.782 3.625 27.1875 3.21945 27.1875 2.71875C27.1875 1.21721 25.9703 0 24.4688 0H3.625C1.62275 0 0 1.62275 0 3.625V21.75C0 23.7522 1.62275 25.375 3.625 25.375H26.1227C27.7097 25.375 29 24.1555 29 22.6562V8.15625C29 6.65697 27.7097 5.4375 26.1227 5.4375ZM23.5625 17.2188C22.5617 17.2188 21.75 16.4071 21.75 15.4062C21.75 14.4054 22.5617 13.5938 23.5625 13.5938C24.5633 13.5938 25.375 14.4054 25.375 15.4062C25.375 16.4071 24.5633 17.2188 23.5625 17.2188Z" fill="#708FFE"></path>
          </svg><span class="p-2">
            <h4>Wallet Dashboard</h4></span>
        </div>
        <div class="container-fluid" style="display: flex; align-items: center;">
          <svg width="15" height="15" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M5 0C2.23884 0 0 2.23884 0 5C0 7.76116 2.23884 10 5 10C7.76116 10 10 7.76116 10 5C10 2.23884 7.76116 0 5 0ZM5.35714 7.41071C5.35714 7.45982 5.31696 7.5 5.26786 7.5H4.73214C4.68304 7.5 4.64286 7.45982 4.64286 7.41071V4.375C4.64286 4.32589 4.68304 4.28571 4.73214 4.28571H5.26786C5.31696 4.28571 5.35714 4.32589 5.35714 4.375V7.41071ZM5 3.57143C4.85981 3.56857 4.72633 3.51087 4.6282 3.41071C4.53007 3.31056 4.47511 3.17593 4.47511 3.03571C4.47511 2.8955 4.53007 2.76087 4.6282 2.66071C4.72633 2.56056 4.85981 2.50286 5 2.5C5.14019 2.50286 5.27367 2.56056 5.3718 2.66071C5.46993 2.76087 5.52489 2.8955 5.52489 3.03571C5.52489 3.17593 5.46993 3.31056 5.3718 3.41071C5.27367 3.51087 5.14019 3.56857 5 3.57143Z" fill="#00A3FF"></path>
          </svg><span class="p-2" style="width: 35%; font-size: 12px;">This is a simple user interface wallet dashboard from where the user can interact with the blockmatrix, manage their wallet information, view their transaction history and execute transactions to the network.</span>
        </div>
      </div>
      <div class="container">
        <div class="row">
          <div class="col-lg-4" id="walletProfile_cont">
            <h3>Wallet Profile</h3>
            <div class="container">
              <div class="row text-center">
                <div class="col"><img class="img-fluid" style="height: 64px;" th:src="@{/images/user_1.png}" alt="user_img">
                  <h6>~mbash</h6>
                </div>
                <div class="col text-left">
                  <div class="div" style="position: absolute; bottom: 0px;">
                    <h6>Balance</h6>
                    <h4><span th:text="${balance}"> </span><span class="p-2" style="font-size: 18px; color: #00A3FF;">Mx's</span></h4>
                  </div>
                </div>
              </div>
            </div>
            <div class="container">
              <div id="_btn_div_action_txt"></div>
              <div id="user_action_btn">
                <div class="_btn_div" id="cpy_pub_add" title="Copy wallet address" th:alt="${pub_address}">
                  <svg width="27" height="30" viewBox="0 0 27 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M4.76954 4.91769C4.00555 4.91769 3.27284 5.22119 2.73261 5.76142C2.19238 6.30165 1.88889 7.03435 1.88889 7.79835V25.0823C1.88889 25.8463 2.19238 26.579 2.73261 27.1192C3.27284 27.6595 4.00555 27.963 4.76954 27.963H19.1728C19.9368 27.963 20.6695 27.6595 21.2098 27.1192C21.75 26.579 22.0535 25.8463 22.0535 25.0823V23.642M15.4485 6.95463C14.9082 7.49485 14.1755 7.79835 13.4115 7.79835H10.5309C9.76686 7.79835 9.03416 7.49485 8.49393 6.95463C7.9537 6.4144 7.6502 5.68169 7.6502 4.91769C7.6502 4.15369 7.9537 3.42099 8.49393 2.88076C9.03416 2.34053 9.76686 2.03703 10.5309 2.03703H13.4115C14.1755 2.03703 14.9082 2.34053 15.4485 2.88076M19.1728 4.91769C19.9368 4.91769 20.6695 5.22119 21.2098 5.76142C21.75 6.30165 22.0535 7.03435 22.0535 7.79835V12.1193M24.9342 17.8807H10.5309M10.5309 17.8807L14.8518 13.5597M10.5309 17.8807L14.8518 22.2016" stroke="black" stroke-width="2.88066" stroke-linecap="round" stroke-linejoin="round"></path>
                  </svg>
                </div>
                <div class="_btn_div" id="new_wallet" title="Create New Wallet">
                  <svg width="36" height="26" viewbox="0 0 36 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0.934143 3.27777C0.934143 1.49537 2.5112 0.0370331 4.43871 0.0370331H30.7229C31.1877 0.0370331 31.6334 0.20775 31.962 0.511629C32.2906 0.815507 32.4752 1.22765 32.4752 1.6574V3.27777H4.43871V4.89814H34.2275C34.6922 4.89814 35.1379 5.06886 35.4666 5.37274C35.7952 5.67662 35.9798 6.08877 35.9798 6.51851V22.7222C35.9798 23.5817 35.6106 24.406 34.9533 25.0138C34.2961 25.6215 33.4047 25.963 32.4752 25.963H4.43871C3.50924 25.963 2.61784 25.6215 1.96061 25.0138C1.30337 24.406 0.934143 23.5817 0.934143 22.7222V3.27777ZM29.8468 17.8611C30.5439 17.8611 31.2125 17.605 31.7054 17.1492C32.1983 16.6934 32.4752 16.0752 32.4752 15.4306C32.4752 14.7859 32.1983 14.1677 31.7054 13.7119C31.2125 13.2561 30.5439 13 29.8468 13C29.1497 13 28.4812 13.2561 27.9882 13.7119C27.4953 14.1677 27.2184 14.7859 27.2184 15.4306C27.2184 16.0752 27.4953 16.6934 27.9882 17.1492C28.4812 17.605 29.1497 17.8611 29.8468 17.8611Z" fill="black"></path>
                    <path d="M13.0653 10.0085C9.34307 10.0085 6.32578 12.7987 6.32578 16.2407C6.32578 19.6828 9.34307 22.4729 13.0653 22.4729C16.7876 22.4729 19.8049 19.6828 19.8049 16.2407C19.8049 12.7987 16.7876 10.0085 13.0653 10.0085ZM16.4351 16.8639H13.7393V19.3568H12.3914V16.8639H9.69555V15.6175H12.3914V13.1246H13.7393V15.6175H16.4351V16.8639Z" fill="white"></path>
                  </svg>
                </div>
                <div class="_btn_div" id="view_keys" title="View wallet keys">
                  <svg width="25" height="26" viewbox="0 0 25 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M17.1129 0.745743C15.9706 0.745603 14.8422 0.993185 13.8081 1.4709C12.7739 1.94861 11.8593 2.64472 11.1293 3.50977C10.3992 4.37482 9.87162 5.38757 9.58398 6.47606C9.29633 7.56456 9.2557 8.70207 9.46498 9.80776L0 19.1271V23.7225C0 24.1287 0.163905 24.5183 0.455659 24.8056C0.747412 25.0929 1.14311 25.2543 1.55572 25.2543H3.11143V23.7225H6.22286V20.6589H9.3343V17.5953H12.4457L14.465 15.6071C15.5325 15.9872 16.6714 16.1326 17.802 16.0332C18.9326 15.9338 20.0274 15.592 21.0095 15.0318C21.9917 14.4716 22.8374 13.7065 23.4874 12.7903C24.1373 11.874 24.5758 10.8288 24.7719 9.72803C24.968 8.62723 24.9171 7.49751 24.6227 6.41815C24.3283 5.33879 23.7975 4.33595 23.0677 3.48001C22.3378 2.62407 21.4266 1.93577 20.3979 1.46342C19.3692 0.991067 18.2479 0.746111 17.1129 0.745743ZM19.4433 8.40772C19.1368 8.40761 18.8333 8.34806 18.5501 8.23246C18.2669 8.11686 18.0096 7.94748 17.7929 7.73398C17.5762 7.52048 17.4044 7.26704 17.2872 6.98814C17.1699 6.70925 17.1097 6.41035 17.1098 6.10851C17.1099 5.80668 17.1703 5.50782 17.2878 5.22899C17.4052 4.95017 17.5772 4.69685 17.794 4.48349C18.0109 4.27013 18.2683 4.10092 18.5515 3.9855C18.8348 3.87009 19.1383 3.81074 19.4449 3.81084C20.064 3.81104 20.6577 4.05339 21.0953 4.48458C21.5329 4.91576 21.7787 5.50046 21.7785 6.11004C21.7783 6.71963 21.5321 7.30416 21.0942 7.73506C20.6563 8.16596 20.0624 8.40792 19.4433 8.40772Z" fill="black"></path>
                  </svg>
                </div>
                <div class="_btn_div" id="access_wallet" title="Access another wallet"> 
                  <svg width="29" height="28" viewbox="0 0 29 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M18.2154 19.5844L22.2443 15.5556H7.20203V12.4444H22.2443L18.2154 8.41556L20.4243 6.22222L28.202 14L20.4243 21.7778L18.2154 19.5844ZM25.8687 0C26.6938 0 27.4851 0.327777 28.0686 0.911223C28.652 1.49467 28.9798 2.28599 28.9798 3.11111V10.3756L25.8687 7.26444V3.11111H4.09092V24.8889H25.8687V20.7356L28.9798 17.6244V24.8889C28.9798 25.714 28.652 26.5053 28.0686 27.0888C27.4851 27.6722 26.6938 28 25.8687 28H4.09092C3.26581 28 2.47448 27.6722 1.89104 27.0888C1.30759 26.5053 0.979813 25.714 0.979813 24.8889V3.11111C0.979813 1.38444 2.36426 0 4.09092 0H25.8687Z" fill="#00F0FF"></path>
                  </svg>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-3" id="sendFunds_cont">
            <form>
              <h3>Send Funds</h3>
              <div class="form-block">
                <label class="control-label" for="recipient_address">Recipients Address</label>
                <input class="form-control" id="r_address" autocomplete="off" type="text" aria-describedby="basic-addon3" required="required"/>
                <label class="control-label" for="recipient_address">Amount</label>
                <input class="form-control" id="amount" autocomplete="off" type="text" aria-describedby="basic-addon3" required="required"/>
                <label class="control-label" for="msg_text">Transaction Message</label>
                <div id="msg_text" contenteditable required></div>
              </div>
              <button class="button_main_light_hollow mt-4 mb-3" id="sendTx" type="submit"><span class="mr-2">Send Funds</span>
                <svg width="14" height="13" viewbox="0 0 14 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M13.1768 5.85895L1.13509 0.192286C1.01385 0.134923 0.878796 0.113199 0.74568 0.129647C0.612564 0.146094 0.486863 0.200036 0.383229 0.285186C0.279595 0.370335 0.202296 0.483184 0.160339 0.610582C0.118383 0.737979 0.113499 0.874678 0.146255 1.00474L1.51971 6.49999L0.146255 11.9952C0.113192 12.1254 0.117863 12.2622 0.159722 12.3898C0.20158 12.5173 0.278895 12.6303 0.382623 12.7155C0.486351 12.8008 0.612203 12.8547 0.745457 12.871C0.878711 12.8873 1.01386 12.8654 1.13509 12.8077L13.1768 7.14104C13.2984 7.08383 13.4013 6.99318 13.4734 6.87966C13.5455 6.76614 13.5838 6.63446 13.5838 6.49999C13.5838 6.36553 13.5455 6.23385 13.4734 6.12033C13.4013 6.00681 13.2984 5.91616 13.1768 5.85895V5.85895ZM1.88238 10.8895L2.47667 8.51166L6.50001 6.49999L2.47667 4.48833L1.88238 2.11045L11.2111 6.49999L1.88238 10.8895Z" fill="#708FFE"></path>
                </svg>
              </button>
            </form>
          </div>
        </div>
      </div>
      <div class="container">
        <div class="container" style="display: flex; align-items: center;"><img style="height: 32px;" th:src="@{/images/Vectorhistory.png}" alt="history_icon"><span class="p-2">
            <h4>My Transaction History</h4></span></div>
        <table class="table table-borderless m-3">
          <thead>
            <tr>
              <th scope="col">Transaction ID</th>
              <th scope="col">Sender</th>
              <th scope="col">Recipient</th>
              <th scope="col">Value</th>
              <th scope="col">Info</th>
              <th scope="col">Block Number</th>
            </tr>
          </thead>
          <tbody>
            <tr th:each="tsx : ${wallet_txs}">
              <td th:text="${tsx.getTransactionId()}"></td>
              <td th:text="${@stringUtil.getStringFromKey(tsx.getSender())}"></td>
              <td th:text="${@stringUtil.getStringFromKey(tsx.getRecipient())}"></td>
              <td th:text="${tsx.getValue()}"></td>
              <td th:text="${tsx.getInfo()}"></td>
              <td th:text="${tsx.getBlockNumber()}"></td>
              <td>
                <button class="button_main_dark" id="select_tx_btn">Modify Info</button>
              </td>
            </tr>
          </tbody>
        </table>
        <div class="container" style="display: flex; justify-content: center;">
          <button class="button_main_dark"> <span class="mr-2">Show More</span>
            <svg width="12" height="9" viewbox="0 0 12 9" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M1.5 1L5.31502 6.70623C5.71971 7.31153 6.61494 7.29524 6.99733 6.67562L10.5 1" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
          </button>
        </div>
      </div>
      <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">New Transaction Message</h5>
              <button class="close" type="button" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            </div>
            <div class="modal-body">
              <form>
                <div class="form-group">
                  <label class="col-form-label" for="message-text"> <strong>Message</strong></label>
                  <textarea class="form-control" id="message-text"></textarea>
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button class="btn btn-danger" type="button">Delete </button>
              <button class="btn btn-secondary" type="button" data-dismiss="modal">Close</button>
              <button class="btn btn-primary" type="button">Modify</button>
            </div>
          </div>
        </div>
      </div>
      <div class="modal fade" id="staticBackdrop" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="staticBackdropLabel">New Wallet Details</h5>
              <button class="close" type="button" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            </div>
            <div class="modal-body" id="wallet_info">
              <p>Modal body text goes here.</p>
            </div>
            <div class="modal-footer">
              <button class="btn btn-secondary" type="button" data-dismiss="modal">I have stored the wallet keys somewhere safe</button>
            </div>
          </div>
        </div>
      </div>
    </section>
    <footer>
      <div class="container-fluid">
        <div class="row p-4">
          <div class="col-sm-3 text-center"><img th:src="@{/images/logo_footer.png}" alt="Atla Logo"></div>
          <div class="col-sm-3">
            <ul>
              <li class="m-3"><a href="/">Home</a></li>
              <li class="m-3"><a href="/">About</a></li>
              <li class="m-3"><a href="/">Contact</a></li>
            </ul>
          </div>
          <div class="col-sm-3">
            <ul>
              <li class="m-3"><a href="/wallet">Wallet</a></li>
              <li class="m-3"><a href="/block_explorer">Block Explorer</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div id="cpy_right">Copyright @ 2020 Atla</div>
    </footer>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
    <script type="text/javascript" th:src="@{js/main.js}"></script>
  </body>
</html>